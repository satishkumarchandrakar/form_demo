.nested-fields
  .field
    = f.label :first_line
    = f.text_field :first_line
  %br
  .field
    = f.label :second_line
    = f.text_field :second_line
  %br
  .field
    = f.label :city
    = f.text_field :city
  %br
  .field
    = f.label :pin
    = f.number_field :pin
  %br
  .field
    = f.label :state
    = f.text_field :state
  %br
  %button.btn.btn-outline-danger{"data-target" => "#addressModal", "data-toggle" => "modal", :type => "button"} delete address
  .modal.fade{"aria-hidden" => "true", "aria-labelledby" => "addressModalLabel", :id => "addressModal", :role => "dialog", :tabindex => "-1"}
    .modal-dialog{:role => "document"}
      .modal-content
        .modal-header
          %h5#exampleModalLabel.modal-title Delete Confirmation
          %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
            %span{"aria-hidden" => "true"} Ã—
        .modal-body
          Are you sure?
        / Delete button in the footer
        .modal-footer
          %button.btn.btn-outline-secondary{"data-dismiss" => "modal", :type => "button"} Cancel
          = link_to_remove_association "remove address", f,type: 'button', data: { dismiss: "modal" }, class: "button btn btn-outline-danger"

:javascript
  $(document).ready(function(){
    $('.remove_fields').click(function(){
      $("#addressModal").modal('hide');
      $(".modal-backdrop.fade.show").remove();
      $("body").removeClass('modal-open');
    })
  })